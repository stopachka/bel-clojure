{
"version":3,
"file":"goog.i18n.uchar.js",
"lineCount":72,
"mappings":"AAUAA,IAAKC,CAAAA,OAAL,CAAa,iBAAb,CAAA;AAWAD,IAAKE,CAAAA,IAAKC,CAAAA,KAAMC,CAAAA,mCAAhB,GAAsD,KAAtD;AASAJ,IAAKE,CAAAA,IAAKC,CAAAA,KAAME,CAAAA,qBAAhB,GAAwC,OAAxC;AAQAL,IAAKE,CAAAA,IAAKC,CAAAA,KAAMG,CAAAA,yBAAhB,GAA4C,KAA5C;AAQAN,IAAKE,CAAAA,IAAKC,CAAAA,KAAMI,CAAAA,yBAAhB,GAA4C,KAA5C;AAQAP,IAAKE,CAAAA,IAAKC,CAAAA,KAAMK,CAAAA,0BAAhB,GAA6C,KAA7C;AAQAR,IAAKE,CAAAA,IAAKC,CAAAA,KAAMM,CAAAA,0BAAhB,GAA6C,KAA7C;AAWAT,IAAKE,CAAAA,IAAKC,CAAAA,KAAMO,CAAAA,0BAAhB,GAA6C,EAA7C;AAQAV,IAAKE,CAAAA,IAAKC,CAAAA,KAAMQ,CAAAA,WAAhB,GAA8BC,QAAQ,CAACC,EAAD,CAAK;AAEzC,QAAMC,SAASd,IAAKE,CAAAA,IAAKC,CAAAA,KAAMY,CAAAA,UAAhB,CAA2BF,EAA3B,CAAf;AACA,QAAMG,YAAY,IAAZA,GACFhB,IAAKE,CAAAA,IAAKC,CAAAA,KAAMc,CAAAA,UAAhB,CAA2BH,MAAOI,CAAAA,QAAP,CAAgB,EAAhB,CAAoBC,CAAAA,WAApB,EAA3B,EAA8D,CAA9D,EAAiE,GAAjE,CADJ;AAGA,SAAOH,SAAP;AANyC,CAA3C;AAkBAhB,IAAKE,CAAAA,IAAKC,CAAAA,KAAMc,CAAAA,UAAhB,GAA6BG,QAAQ,CAACC,GAAD,EAAMC,MAAN,EAAcT,EAAd,CAAkB;AAErD,SAAOQ,GAAIC,CAAAA,MAAX,GAAoBA,MAApB;AACED,OAAA,GAAMR,EAAN,GAAWQ,GAAX;AADF;AAGA,SAAOA,GAAP;AALqD,CAAvD;AAgBArB,IAAKE,CAAAA,IAAKC,CAAAA,KAAMY,CAAAA,UAAhB,GAA6BQ,QAAQ,CAACV,EAAD,CAAK;AAExC,SAAOb,IAAKE,CAAAA,IAAKC,CAAAA,KAAMqB,CAAAA,kBAAhB,CAAmCX,EAAnC,EAAuC,CAAvC,CAAP;AAFwC,CAA1C;AAYAb,IAAKE,CAAAA,IAAKC,CAAAA,KAAMsB,CAAAA,YAAhB,GAA+BC,QAAQ,CAACC,IAAD,CAAO;AAE5C,MAAIA,IAAJ,IAAY,IAAZ,IACI,EAAEA,IAAF,IAAU,CAAV,IAAeA,IAAf,IAAuB3B,IAAKE,CAAAA,IAAKC,CAAAA,KAAME,CAAAA,qBAAvC,CADJ;AAEE,WAAO,IAAP;AAFF;AAIA,MAAIL,IAAKE,CAAAA,IAAKC,CAAAA,KAAMyB,CAAAA,wBAAhB,CAAyCD,IAAzC,CAAJ,CAAoD;AAKlD,UAAME,WAAWF,IAAXE,IAAmB7B,IAAKE,CAAAA,IAAKC,CAAAA,KAAMO,CAAAA,0BAAzC;AACA,UAAMoB,YAAYH,IAAZG,IAGA,CAHAA,IAGK9B,IAAKE,CAAAA,IAAKC,CAAAA,KAAMO,CAAAA,0BAHrBoB,IAGmD,CAHzD;AAOA,UAAMC,gBAAgBF,QAAhBE,IACD/B,IAAKE,CAAAA,IAAKC,CAAAA,KAAMG,CAAAA,yBADfyB,IAKA/B,IAAKE,CAAAA,IAAKC,CAAAA,KAAMC,CAAAA,mCALhB2B,IAMA/B,IAAKE,CAAAA,IAAKC,CAAAA,KAAMO,CAAAA,0BANhBqB,EAAN;AAOA,UAAMC,iBACFF,SADEE,GACUhC,IAAKE,CAAAA,IAAKC,CAAAA,KAAMK,CAAAA,0BADhC;AAIA,WAAOyB,MAAOR,CAAAA,YAAP,CAAoBM,aAApB,CAAP,GACIE,MAAOR,CAAAA,YAAP,CAAoBO,cAApB,CADJ;AAxBkD;AA2BpD,SAAOC,MAAOR,CAAAA,YAAP,CAAoBE,IAApB,CAAP;AAjC4C,CAA9C;AAsEA3B,IAAKE,CAAAA,IAAKC,CAAAA,KAAMqB,CAAAA,kBAAhB,GAAqCU,QAAQ,CAACC,MAAD,EAASC,KAAT,CAAgB;AAE3D,QAAMC,WAAWF,MAAOG,CAAAA,UAAP,CAAkBF,KAAlB,CAAjB;AACA,MAAIpC,IAAKE,CAAAA,IAAKC,CAAAA,KAAMoC,CAAAA,wBAAhB,CAAyCF,QAAzC,CAAJ,IACID,KADJ,GACY,CADZ,GACgBD,MAAOb,CAAAA,MADvB,CAC+B;AAC7B,UAAMkB,QAAQL,MAAOG,CAAAA,UAAP,CAAkBF,KAAlB,GAA0B,CAA1B,CAAd;AACA,QAAIpC,IAAKE,CAAAA,IAAKC,CAAAA,KAAMsC,CAAAA,yBAAhB,CAA0CD,KAA1C,CAAJ;AAEE,aACIxC,IAAKE,CAAAA,IAAKC,CAAAA,KAAMuC,CAAAA,2BAAhB,CAA4CL,QAA5C,EAAsDG,KAAtD,CADJ;AAFF;AAF6B,GAD/B,KAQO,KAAIxC,IAAKE,CAAAA,IAAKC,CAAAA,KAAMsC,CAAAA,yBAAhB,CAA0CJ,QAA1C,CAAJ,IAA2DD,KAA3D,GAAmE,CAAnE,CAAsE;AAC3E,UAAMO,OAAOR,MAAOG,CAAAA,UAAP,CAAkBF,KAAlB,GAA0B,CAA1B,CAAb;AACA,QAAIpC,IAAKE,CAAAA,IAAKC,CAAAA,KAAMoC,CAAAA,wBAAhB,CAAyCI,IAAzC,CAAJ,CAAoD;AAElD,YAAMC,YACF5C,IAAKE,CAAAA,IAAKC,CAAAA,KAAMuC,CAAAA,2BAAhB,CAA4CC,IAA5C,EAAkDN,QAAlD,CADJ;AAEA,aAAO,CAACO,SAAR;AAJkD;AAFuB;AAS7E,SAAOP,QAAP;AApB2D,CAA7D;AA8BArC,IAAKE,CAAAA,IAAKC,CAAAA,KAAM0C,CAAAA,SAAhB,GAA4BC,QAAQ,CAACC,SAAD,CAAY;AAE9C,SAAO/C,IAAKE,CAAAA,IAAKC,CAAAA,KAAMyB,CAAAA,wBAAhB,CAAyCmB,SAAzC,CAAA,GAAsD,CAAtD,GAA0D,CAAjE;AAF8C,CAAhD;AAYA/C,IAAKE,CAAAA,IAAKC,CAAAA,KAAMyB,CAAAA,wBAAhB,GAA2CoB,QAAQ,CAACD,SAAD,CAAY;AAE7D,SAAOA,SAAP,IAAoB/C,IAAKE,CAAAA,IAAKC,CAAAA,KAAMC,CAAAA,mCAApC,IACI2C,SADJ,IACiB/C,IAAKE,CAAAA,IAAKC,CAAAA,KAAME,CAAAA,qBADjC;AAF6D,CAA/D;AAaAL,IAAKE,CAAAA,IAAKC,CAAAA,KAAMoC,CAAAA,wBAAhB,GAA2CU,QAAQ,CAACF,SAAD,CAAY;AAE7D,SAAOA,SAAP,IAAoB/C,IAAKE,CAAAA,IAAKC,CAAAA,KAAMG,CAAAA,yBAApC,IACIyC,SADJ,IACiB/C,IAAKE,CAAAA,IAAKC,CAAAA,KAAMI,CAAAA,yBADjC;AAF6D,CAA/D;AAaAP,IAAKE,CAAAA,IAAKC,CAAAA,KAAMsC,CAAAA,yBAAhB,GAA4CS,QAAQ,CAACH,SAAD,CAAY;AAE9D,SAAOA,SAAP,IAAoB/C,IAAKE,CAAAA,IAAKC,CAAAA,KAAMK,CAAAA,0BAApC,IACIuC,SADJ,IACiB/C,IAAKE,CAAAA,IAAKC,CAAAA,KAAMM,CAAAA,0BADjC;AAF8D,CAAhE;AAgBAT,IAAKE,CAAAA,IAAKC,CAAAA,KAAMuC,CAAAA,2BAAhB,GAA8CS,QAAQ,CAACR,IAAD,EAAOH,KAAP,CAAc;AAElE,MAAIxC,IAAKE,CAAAA,IAAKC,CAAAA,KAAMoC,CAAAA,wBAAhB,CAAyCI,IAAzC,CAAJ,IACI3C,IAAKE,CAAAA,IAAKC,CAAAA,KAAMsC,CAAAA,yBAAhB,CAA0CD,KAA1C,CADJ,CACsD;AACpD,UAAMY,qBACDT,IADCS,IACOpD,IAAKE,CAAAA,IAAKC,CAAAA,KAAMO,CAAAA,0BADvB0C,KAEDpD,IAAKE,CAAAA,IAAKC,CAAAA,KAAMG,CAAAA,yBAFf8C,IAGEpD,IAAKE,CAAAA,IAAKC,CAAAA,KAAMO,CAAAA,0BAHlB0C,CAAN;AAIA,UAAMC,cAAcb,KAAda,GAAsBrD,IAAKE,CAAAA,IAAKC,CAAAA,KAAMK,CAAAA,0BAAtC6C,GACFrD,IAAKE,CAAAA,IAAKC,CAAAA,KAAMC,CAAAA,mCADpB;AAEA,WAAOgD,iBAAP,GAA2BC,WAA3B;AAPoD;AAStD,SAAO,IAAP;AAZkE,CAApE;;",
"sources":["goog/i18n/uchar.js"],
"sourcesContent":["/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Collection of utility functions for Unicode character.\n */\n\ngoog.provide('goog.i18n.uChar');\n\n\n// Constants for handling Unicode supplementary characters (surrogate pairs).\n\n\n/**\n * The minimum value for Supplementary code points.\n * @type {number}\n * @private\n */\ngoog.i18n.uChar.SUPPLEMENTARY_CODE_POINT_MIN_VALUE_ = 0x10000;\n\n\n/**\n * The highest Unicode code point value (scalar value) according to the Unicode\n * Standard.\n * @type {number}\n * @private\n */\ngoog.i18n.uChar.CODE_POINT_MAX_VALUE_ = 0x10FFFF;\n\n\n/**\n * Lead surrogate minimum value.\n * @type {number}\n * @private\n */\ngoog.i18n.uChar.LEAD_SURROGATE_MIN_VALUE_ = 0xD800;\n\n\n/**\n * Lead surrogate maximum value.\n * @type {number}\n * @private\n */\ngoog.i18n.uChar.LEAD_SURROGATE_MAX_VALUE_ = 0xDBFF;\n\n\n/**\n * Trail surrogate minimum value.\n * @type {number}\n * @private\n */\ngoog.i18n.uChar.TRAIL_SURROGATE_MIN_VALUE_ = 0xDC00;\n\n\n/**\n * Trail surrogate maximum value.\n * @type {number}\n * @private\n */\ngoog.i18n.uChar.TRAIL_SURROGATE_MAX_VALUE_ = 0xDFFF;\n\n\n/**\n * The number of least significant bits of a supplementary code point that in\n * UTF-16 become the least significant bits of the trail surrogate. The rest of\n * the in-use bits of the supplementary code point become the least significant\n * bits of the lead surrogate.\n * @type {number}\n * @private\n */\ngoog.i18n.uChar.TRAIL_SURROGATE_BIT_COUNT_ = 10;\n\n\n/**\n * Gets the U+ notation string of a Unicode character. Ex: 'U+0041' for 'A'.\n * @param {string} ch The given character.\n * @return {string} The U+ notation of the given character.\n */\ngoog.i18n.uChar.toHexString = function(ch) {\n  'use strict';\n  const chCode = goog.i18n.uChar.toCharCode(ch);\n  const chCodeStr = 'U+' +\n      goog.i18n.uChar.padString_(chCode.toString(16).toUpperCase(), 4, '0');\n\n  return chCodeStr;\n};\n\n\n/**\n * Gets a string padded with given character to get given size.\n * @param {string} str The given string to be padded.\n * @param {number} length The target size of the string.\n * @param {string} ch The character to be padded with.\n * @return {string} The padded string.\n * @private\n */\ngoog.i18n.uChar.padString_ = function(str, length, ch) {\n  'use strict';\n  while (str.length < length) {\n    str = ch + str;\n  }\n  return str;\n};\n\n\n/**\n * Gets Unicode value of the given character.\n * @param {string} ch The given character, which in the case of a supplementary\n * character is actually a surrogate pair. The remainder of the string is\n * ignored.\n * @return {number} The Unicode value of the character.\n */\ngoog.i18n.uChar.toCharCode = function(ch) {\n  'use strict';\n  return goog.i18n.uChar.getCodePointAround(ch, 0);\n};\n\n\n/**\n * Gets a character from the given Unicode value. If the given code point is not\n * a valid Unicode code point, null is returned.\n * @param {number} code The Unicode value of the character.\n * @return {?string} The character corresponding to the given Unicode value.\n */\ngoog.i18n.uChar.fromCharCode = function(code) {\n  'use strict';\n  if (code == null ||\n      !(code >= 0 && code <= goog.i18n.uChar.CODE_POINT_MAX_VALUE_)) {\n    return null;\n  }\n  if (goog.i18n.uChar.isSupplementaryCodePoint(code)) {\n    // First, we split the code point into the trail surrogate part (the\n    // TRAIL_SURROGATE_BIT_COUNT_ least significant bits) and the lead surrogate\n    // part (the rest of the bits, shifted down; note that for now this includes\n    // the supplementary offset, also shifted down, to be subtracted off below).\n    const leadBits = code >> goog.i18n.uChar.TRAIL_SURROGATE_BIT_COUNT_;\n    const trailBits = code &\n        // A bit-mask to get the TRAIL_SURROGATE_BIT_COUNT_ (i.e. 10) least\n        // significant bits. 1 << 10 = 0x0400. 0x0400 - 1 = 0x03FF.\n        ((1 << goog.i18n.uChar.TRAIL_SURROGATE_BIT_COUNT_) - 1);\n\n    // Now we calculate the code point of each surrogate by adding each offset\n    // to the corresponding base code point.\n    const leadCodePoint = leadBits +\n        (goog.i18n.uChar.LEAD_SURROGATE_MIN_VALUE_ -\n         // Subtract off the supplementary offset, which had been shifted down\n         // with the rest of leadBits. We do this here instead of before the\n         // shift in order to save a separate subtraction step.\n         (goog.i18n.uChar.SUPPLEMENTARY_CODE_POINT_MIN_VALUE_ >>\n          goog.i18n.uChar.TRAIL_SURROGATE_BIT_COUNT_));\n    const trailCodePoint =\n        trailBits + goog.i18n.uChar.TRAIL_SURROGATE_MIN_VALUE_;\n\n    // Convert the code points into a 2-character long string.\n    return String.fromCharCode(leadCodePoint) +\n        String.fromCharCode(trailCodePoint);\n  }\n  return String.fromCharCode(code);\n};\n\n\n/**\n * Returns the Unicode code point at the specified index.\n *\n * If the char value specified at the given index is in the leading-surrogate\n * range, and the following index is less than the length of `string`, and\n * the char value at the following index is in the trailing-surrogate range,\n * then the supplementary code point corresponding to this surrogate pair is\n * returned.\n *\n * If the char value specified at the given index is in the trailing-surrogate\n * range, and the preceding index is not before the start of `string`, and\n * the char value at the preceding index is in the leading-surrogate range, then\n * the negated supplementary code point corresponding to this surrogate pair is\n * returned.\n *\n * The negation allows the caller to differentiate between the case where the\n * given index is at the leading surrogate and the one where it is at the\n * trailing surrogate, and thus deduce where the next character starts and\n * preceding character ends.\n *\n * Otherwise, the char value at the given index is returned. Thus, a leading\n * surrogate is returned when it is not followed by a trailing surrogate, and a\n * trailing surrogate is returned when it is not preceded by a leading\n * surrogate.\n *\n * @param {string} string The string.\n * @param {number} index The index from which the code point is to be retrieved.\n * @return {number} The code point at the given index. If the given index is\n * that of the start (i.e. lead surrogate) of a surrogate pair, returns the code\n * point encoded by the pair. If the given index is that of the end (i.e. trail\n * surrogate) of a surrogate pair, returns the negated code pointed encoded by\n * the pair.\n */\ngoog.i18n.uChar.getCodePointAround = function(string, index) {\n  'use strict';\n  const charCode = string.charCodeAt(index);\n  if (goog.i18n.uChar.isLeadSurrogateCodePoint(charCode) &&\n      index + 1 < string.length) {\n    const trail = string.charCodeAt(index + 1);\n    if (goog.i18n.uChar.isTrailSurrogateCodePoint(trail)) {\n      // Part of a surrogate pair.\n      return /** @type {number} */ (\n          goog.i18n.uChar.buildSupplementaryCodePoint(charCode, trail));\n    }\n  } else if (goog.i18n.uChar.isTrailSurrogateCodePoint(charCode) && index > 0) {\n    const lead = string.charCodeAt(index - 1);\n    if (goog.i18n.uChar.isLeadSurrogateCodePoint(lead)) {\n      // Part of a surrogate pair.\n      const codepoint = /** @type {number} */ (\n          goog.i18n.uChar.buildSupplementaryCodePoint(lead, charCode));\n      return -codepoint;\n    }\n  }\n  return charCode;\n};\n\n\n/**\n * Determines the length of the string needed to represent the specified\n * Unicode code point.\n * @param {number} codePoint\n * @return {number} 2 if codePoint is a supplementary character, 1 otherwise.\n */\ngoog.i18n.uChar.charCount = function(codePoint) {\n  'use strict';\n  return goog.i18n.uChar.isSupplementaryCodePoint(codePoint) ? 2 : 1;\n};\n\n\n/**\n * Determines whether the specified Unicode code point is in the supplementary\n * Unicode characters range.\n * @param {number} codePoint\n * @return {boolean} Whether then given code point is a supplementary character.\n */\ngoog.i18n.uChar.isSupplementaryCodePoint = function(codePoint) {\n  'use strict';\n  return codePoint >= goog.i18n.uChar.SUPPLEMENTARY_CODE_POINT_MIN_VALUE_ &&\n      codePoint <= goog.i18n.uChar.CODE_POINT_MAX_VALUE_;\n};\n\n\n/**\n * Gets whether the given code point is a leading surrogate character.\n * @param {number} codePoint\n * @return {boolean} Whether the given code point is a leading surrogate\n * character.\n */\ngoog.i18n.uChar.isLeadSurrogateCodePoint = function(codePoint) {\n  'use strict';\n  return codePoint >= goog.i18n.uChar.LEAD_SURROGATE_MIN_VALUE_ &&\n      codePoint <= goog.i18n.uChar.LEAD_SURROGATE_MAX_VALUE_;\n};\n\n\n/**\n * Gets whether the given code point is a trailing surrogate character.\n * @param {number} codePoint\n * @return {boolean} Whether the given code point is a trailing surrogate\n * character.\n */\ngoog.i18n.uChar.isTrailSurrogateCodePoint = function(codePoint) {\n  'use strict';\n  return codePoint >= goog.i18n.uChar.TRAIL_SURROGATE_MIN_VALUE_ &&\n      codePoint <= goog.i18n.uChar.TRAIL_SURROGATE_MAX_VALUE_;\n};\n\n\n/**\n * Composes a supplementary Unicode code point from the given UTF-16 surrogate\n * pair. If leadSurrogate isn't a leading surrogate code point or trailSurrogate\n * isn't a trailing surrogate code point, null is returned.\n * @param {number} lead The leading surrogate code point.\n * @param {number} trail The trailing surrogate code point.\n * @return {?number} The supplementary Unicode code point obtained by decoding\n * the given UTF-16 surrogate pair.\n */\ngoog.i18n.uChar.buildSupplementaryCodePoint = function(lead, trail) {\n  'use strict';\n  if (goog.i18n.uChar.isLeadSurrogateCodePoint(lead) &&\n      goog.i18n.uChar.isTrailSurrogateCodePoint(trail)) {\n    const shiftedLeadOffset =\n        (lead << goog.i18n.uChar.TRAIL_SURROGATE_BIT_COUNT_) -\n        (goog.i18n.uChar.LEAD_SURROGATE_MIN_VALUE_\n         << goog.i18n.uChar.TRAIL_SURROGATE_BIT_COUNT_);\n    const trailOffset = trail - goog.i18n.uChar.TRAIL_SURROGATE_MIN_VALUE_ +\n        goog.i18n.uChar.SUPPLEMENTARY_CODE_POINT_MIN_VALUE_;\n    return shiftedLeadOffset + trailOffset;\n  }\n  return null;\n};\n"],
"names":["goog","provide","i18n","uChar","SUPPLEMENTARY_CODE_POINT_MIN_VALUE_","CODE_POINT_MAX_VALUE_","LEAD_SURROGATE_MIN_VALUE_","LEAD_SURROGATE_MAX_VALUE_","TRAIL_SURROGATE_MIN_VALUE_","TRAIL_SURROGATE_MAX_VALUE_","TRAIL_SURROGATE_BIT_COUNT_","toHexString","goog.i18n.uChar.toHexString","ch","chCode","toCharCode","chCodeStr","padString_","toString","toUpperCase","goog.i18n.uChar.padString_","str","length","goog.i18n.uChar.toCharCode","getCodePointAround","fromCharCode","goog.i18n.uChar.fromCharCode","code","isSupplementaryCodePoint","leadBits","trailBits","leadCodePoint","trailCodePoint","String","goog.i18n.uChar.getCodePointAround","string","index","charCode","charCodeAt","isLeadSurrogateCodePoint","trail","isTrailSurrogateCodePoint","buildSupplementaryCodePoint","lead","codepoint","charCount","goog.i18n.uChar.charCount","codePoint","goog.i18n.uChar.isSupplementaryCodePoint","goog.i18n.uChar.isLeadSurrogateCodePoint","goog.i18n.uChar.isTrailSurrogateCodePoint","goog.i18n.uChar.buildSupplementaryCodePoint","shiftedLeadOffset","trailOffset"]
}
